# ğŸŒŸ ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ - ê°œì¸ ì‹¤ìŠµ ê³¼ì œ

- 'ì¼ìƒ ì† ìƒí’ˆ ê²€ìƒ‰ ê¸°ëŠ¥'ì„ êµ¬í˜„í•œ í”„ë¡œì íŠ¸



---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

* ì‚¬ìš©ìê°€ ìƒí’ˆì„ ê²€ìƒ‰í•˜ê³  ì¡°ê±´(ë¸Œëœë“œ / ê°€ê²©)ì— ë§ëŠ” ê²€ìƒ‰ê²°ê³¼ ë³´ê¸°
* ë°˜í™˜ëœ ê²€ìƒ‰ ê²°ê³¼ì—ì„œ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ìƒì„¸ì •ë³´ í™•ì¸
  
<img width="690" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 1 35 39" src="https://github.com/user-attachments/assets/e20d83c5-2a48-4be9-951a-35b2b74ecbea" />

---

## 2. í”„ë¡œì íŠ¸ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°ì°¨íŠ¸ (Mermaid Flowchart)


## ğŸ”— Mermaid ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

[â–¶ Mermaid ë‹¤ì´ì–´ê·¸ë¨ ì—´ê¸°](https://www.mermaidchart.com/play?utm_source=mermaid_live_editor&utm_medium=toggle#pako:eNqdVE1rGlEU_SsXIZBAYk3TlbSBBjfuCkW6cWPNUFzUWDXdlIIfk9RE02gaW6OjjCU1pDVlohMwIPS_dDnvvv_Qq-9px4xjSmc1zJx77znnvvPeeaI724rH70kpb3aVeFQJxCKvkpHX4TjQs7QEmOti_RJb5VVAXcWeCZjP8pMCYNvg9RL83j8Bq5fB_MH4FfUq07sPeFXlqiG-5LOoDoD1TWtgWLclvMhgszZpxptl1lHDcTEvEUmmY9FYIhJPQyilJCGS-kvACXmhvHyaSIxBH4a8WmHfDcDGLVavYTkUXHEWPFeSb2VXVWM91Yl4ltzZ3o2mA1tjkFAa2JrwIz983js-sE4XD8_54QDQLJBEYG2NfdJEwUjE2uamIOq309QruH8kQOIvwQQ9v_uA-in2rkSRwFLRlDHV3WhY1Cd16z7L0OSaRM0UumYfdneKqGNGjZ_VZmbZhbgxbFZY8WZGFlWNXPBDKIhfyrPkeIUIazZ3173AT0us9YMfD2lHOs835xv5S-elNvCsyTpXbi5KzFkBtSEtZUSTFc-xaTL9gMjaxj70yjM8d1jYw7omkQF2UcC6QVLDHonHz2RCa4_p31xIyGiIzcGyrUpXWbG74r5MnjvHRolOEtChom3M5m7BQuVIq2dY_eF0j1OtG14ZUvp1DDKoqGcpZC7qLSNj9S6B5X5iMwNY0Ei-bLFgReTagDY5ysITcp9iz_eOVkE2ewwbPnqwUaZmExK2ZnMy4eDcNqzriZELQjGBjRQCb6hTI1vd-8Mxc52JHqysOQ6-a04okV_3_icncn2OhDzyzt6o8-MhFQog_1ijQ08LuCcvoigYuNdSXjVZ8XY6hTzqm_980UhSosrVNztooVtOjWPHPO__AAJKRJI)

:white_check_mark:
 **Mermaidì‹¤í–‰ í™”ë©´**

<img width="1368" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 1 37 05" src="https://github.com/user-attachments/assets/5f5ef3a1-65af-4fb1-97af-acebc76295c8" />
<br>
<br>

:white_check_mark:
 **Mermaid SequenceDiagram í™”ë©´**

<img width="467" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 1 30 14" src="https://github.com/user-attachments/assets/8e92ced7-b5c0-4fd0-a917-251f5b599f23" />

```mermaid
sequenceDiagram
    %% ì‚¬ìš©ì, ì „ì²´ ìƒí’ˆ ì¡°íšŒ â†’ ê²€ìƒ‰ â†’ ì •ë ¬/í•„í„° â†’ ìƒì„¸ ë³´ê¸°ê¹Œì§€ì˜ ì „ì²´ íë¦„

    participant User as ì‚¬ìš©ì
    participant WebApp as ì‡¼í•‘ëª° ì›¹ì•± (UI)
    participant Server as ì„œë²„
    participant ProductDB as ìƒí’ˆ DB

    %% 0. ì „ì²´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸° ë¡œë“œ
    User->>WebApp: ì‡¼í•‘ëª° ì ‘ì†
    WebApp->>Server: ì „ì²´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ìš”ì²­
    Server->>ProductDB: ìµœì‹  ìƒí’ˆ 10ê°œ ì¡°íšŒ
    ProductDB-->>Server: ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ 10ê°œ ë°˜í™˜
    Server-->>WebApp: ì „ì²´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ì‘ë‹µ
    WebApp-->>User: UIì— ìƒí’ˆ 10ê°œ í‘œì‹œ

    %% 1. í”Œë«í¼ ì„ íƒ
    User->>WebApp: ì¿ íŒ¡ í´ë¦­
    WebApp->>Server: ì¿ íŒ¡ í™ˆìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

    %% 2. ê²€ìƒ‰
    User->>WebApp: "ë¬´ì„  ë§ˆìš°ìŠ¤" ê²€ìƒ‰ì–´ ì…ë ¥
    WebApp->>Server: ê²€ìƒ‰ ìš”ì²­ (ê²€ìƒ‰ì–´ ì „ë‹¬)
    Server->>ProductDB: í‚¤ì›Œë“œ ê¸°ë°˜ ìƒí’ˆ ì¡°íšŒ
    ProductDB-->>Server: ê²€ìƒ‰ ê²°ê³¼ ë°˜í™˜

    %% 3. ì •ë ¬ ë° í•„í„° ì ìš©
    User->>WebApp: "ê°€ê²© ë‚®ì€ ìˆœ" ì •ë ¬ ì„ íƒ
    User->>WebApp: "ë¸Œëœë“œ = ë¡œì§€í…, ê°€ê²© < 30000ì›" í•„í„° ì„ íƒ
    WebApp->>Server: ì •ë ¬ ë° í•„í„° ì¡°ê±´ ì „ë‹¬
    Server->>ProductDB: ì¡°ê±´ ì ìš© í›„ ìƒí’ˆ ì¬ì¡°íšŒ
    ProductDB-->>Server: ì •ë ¬/í•„í„° ì ìš©ëœ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸
    Server-->>WebApp: ìµœì¢… ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ì‘ë‹µ
    WebApp-->>User: UIì— ê²°ê³¼ í‘œì‹œ

    %% 4. ìƒì„¸ ë³´ê¸°
    User->>WebApp: ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ í´ë¦­
    WebApp->>Server: ìƒí’ˆ ID ì „ë‹¬
    Server->>ProductDB: í•´ë‹¹ ìƒí’ˆ ì •ë³´ ì¡°íšŒ
    ProductDB-->>Server: ìƒí’ˆ ìƒì„¸ ì •ë³´
    Server-->>WebApp: ìƒì„¸ ì •ë³´ ì‘ë‹µ
    WebApp-->>User: ìƒì„¸ í˜ì´ì§€ í‘œì‹œ
```

---

## 3. êµ¬í˜„ì„ ìœ„í•œ íŒŒì´ì¬ ì½”ë“œ
```
# shopping_flow.py

from typing import List, Optional  # íƒ€ì… íŒíŠ¸ë¥¼ ìœ„í•œ ëª¨ë“ˆ

# âœ… ìƒí’ˆ í´ë˜ìŠ¤: ê°œë³„ ìƒí’ˆì˜ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´
class Product:
    def __init__(self, product_id: int, name: str, brand: str, price: int):
        self.product_id = product_id  # ìƒí’ˆ ê³ ìœ  ID
        self.name = name              # ìƒí’ˆ ì´ë¦„
        self.brand = brand            # ë¸Œëœë“œëª…
        self.price = price            # ê°€ê²©

    def __repr__(self):
        # ìƒí’ˆ ì •ë³´ë¥¼ ë¬¸ìì—´ë¡œ í‘œí˜„í•  ë•Œ ì‚¬ìš©
        return f"{self.name} ({self.brand}) - {self.price}ì›"

# âœ… ìƒí’ˆ ì €ì¥ì†Œ í´ë˜ìŠ¤: ìƒí’ˆ ëª©ë¡ì„ ë³´ê´€í•˜ê³  ê²€ìƒ‰/í•„í„°/ì¡°íšŒ ê¸°ëŠ¥ ì œê³µ
class ProductRepository:
    def __init__(self):
        # ì´ˆê¸° ìƒí’ˆ 10ê°œë¥¼ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
        self.products = [
            Product(1, "ë¡œì§€í… ë¬´ì„  ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 25000),
            Product(2, "HP ìœ ì„  ë§ˆìš°ìŠ¤", "HP", 15000),
            Product(3, "ë¡œì§€í… ê²Œì´ë° ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 45000),
            Product(4, "ì‚¼ì„± ë¸”ë£¨íˆ¬ìŠ¤ ë§ˆìš°ìŠ¤", "ì‚¼ì„±", 29000),
            Product(5, "LG ìœ ì„  ë§ˆìš°ìŠ¤", "LG", 18000),
            Product(6, "ë¡œì§€í… ë¬´ì„  í‚¤ë³´ë“œ", "ë¡œì§€í…", 32000),
            Product(7, "ì• í”Œ ë§¤ì§ ë§ˆìš°ìŠ¤", "ì• í”Œ", 79000),
            Product(8, "ë¸ ìœ ì„  ë§ˆìš°ìŠ¤", "ë¸", 14000),
            Product(9, "MS ë¸”ë£¨íˆ¬ìŠ¤ ë§ˆìš°ìŠ¤", "MS", 31000),
            Product(10, "ë¡œì§€í… ì‚¬ì¼ëŸ°íŠ¸ ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 27000),
        ]

    # ì „ì²´ ë˜ëŠ” ìµœì‹  ìƒí’ˆ ì¼ë¶€ ë°˜í™˜
    def get_latest_products(self, count: int = 10) -> List[Product]:
        return self.products[:count]

    # í‚¤ì›Œë“œê°€ í¬í•¨ëœ ìƒí’ˆ ê²€ìƒ‰
    def search(self, keyword: str) -> List[Product]:
        return [p for p in self.products if keyword in p.name]

    # ë¸Œëœë“œ ë° ê°€ê²© í•„í„°ë§
    def filter(self, products: List[Product], brand: Optional[str], max_price: Optional[int]) -> List[Product]:
        filtered = products
        if brand:
            filtered = [p for p in filtered if p.brand == brand]
        if max_price:
            filtered = [p for p in filtered if p.price <= max_price]
        return filtered

    # ìƒí’ˆ IDë¡œ ìƒì„¸ ì •ë³´ ì¡°íšŒ
    def get_detail(self, product_id: int) -> Optional[Product]:
        for p in self.products:
            if p.product_id == product_id:
                return p
        return None

# âœ… ì›¹ ì•± í´ë˜ìŠ¤: ì €ì¥ì†Œë¥¼ í†µí•´ ì‚¬ìš©ì ìš”ì²­ì„ ì²˜ë¦¬
class WebApp:
    def __init__(self, repository: ProductRepository):
        self.repo = repository  # ì €ì¥ì†Œ ì£¼ì…

    # ë©”ì¸ í˜ì´ì§€ìš© ìµœì‹  ìƒí’ˆ ë¶ˆëŸ¬ì˜¤ê¸°
    def load_home(self):
        return self.repo.get_latest_products()

    # ê²€ìƒ‰ + í•„í„° + ì •ë ¬ ì²˜ë¦¬
    def search_products(self, keyword: str, brand: Optional[str], max_price: Optional[int]):
        result = self.repo.search(keyword)
        return sorted(self.repo.filter(result, brand, max_price), key=lambda x: x.price)

    # ìƒí’ˆ IDë¡œ ìƒì„¸ ì •ë³´ ë°˜í™˜
    def show_detail(self, product_id: int):
        return self.repo.get_detail(product_id)

# âœ… ì‚¬ìš©ì í´ë˜ìŠ¤: ì‹¤ì œ ì‚¬ìš©ìê°€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” íë¦„ì„ ì‹œë®¬ë ˆì´ì…˜
class User:
    def __init__(self, app: WebApp):
        self.app = app

    def run(self):
        print("ğŸ“² ì‡¼í•‘ëª° ì ‘ì†")

        # í™ˆì— ì ‘ì†í–ˆì„ ë•Œ ìµœì‹  ìƒí’ˆ ëª©ë¡ ì¶œë ¥
        latest = self.app.load_home()
        print("ğŸ›’ ìµœì‹  ìƒí’ˆ ë¦¬ìŠ¤íŠ¸:")
        for p in latest:
            print("-", p)

        # 'ë§ˆìš°ìŠ¤' ê²€ìƒ‰ í›„ í•„í„° ì ìš©
        print("\nğŸ” 'ë§ˆìš°ìŠ¤' ê²€ìƒ‰ + ë¡œì§€í… ë¸Œëœë“œ + ê°€ê²© â‰¤ 30000ì›")
        filtered = self.app.search_products("ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 30000)
        for p in filtered:
            print("ğŸ¯ ê²€ìƒ‰ê²°ê³¼:", p)

        # ê²€ìƒ‰ ê²°ê³¼ ì¤‘ ì²« ë²ˆì§¸ ìƒí’ˆ ìƒì„¸ ë³´ê¸°
        if filtered:
            detail = self.app.show_detail(filtered[0].product_id)
            print("\nğŸ“„ ìƒì„¸ í˜ì´ì§€:")
            print("ğŸ“", detail)

# âœ… ë©”ì¸ ì‹¤í–‰ ë¡œì§
if __name__ == "__main__":
    repo = ProductRepository()  # ì €ì¥ì†Œ ìƒì„±
    app = WebApp(repo)          # ì›¹ì•± ìƒì„± (ì €ì¥ì†Œ ì£¼ì…)
    user = User(app)            # ì‚¬ìš©ì ìƒì„± (ì›¹ì•± ì£¼ì…)
    user.run()                  # ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰

```

ğŸ”— [Google Colab Code Link](https://colab.research.google.com/drive/1-5BSQHrmf6QDwBGMkTixB7D0aH5T5tDb?usp=sharing)

<img width="1030" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 2 11 01" src="https://github.com/user-attachments/assets/743d5b70-0068-4971-b131-b35e6087927d" />

:white_check_mark:
 **ì‹¤í–‰ê²°ê³¼**

<img width="459" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 1 31 38" src="https://github.com/user-attachments/assets/436cf4b9-8ca3-438d-99e0-a7617592a5dd" />

---

## 4. íŒŒì´ì¬ ì½”ë“œ í´ë˜ìŠ¤ êµ¬ì¡°

```plaintext
shopping_flow.py
|
|â”‚-- Product: ìƒí’ˆì˜ ì •ë³´ (ì´ë¦„, ê°€ê²©, ë¸Œëœë“œ)
|â”‚-- ProductStore: ì „ì²´/ê²€ìƒ‰/í•„í„°/ìƒì„¸ ì¡°íšŒ ê°€ëŠ¥
|â”‚-- User: ê°€ì… í–‰ë™ì„ ì‹œë£¨ë¦¬ì–¼ë¡œ ì‹¤í–‰
```

---

## 5. ì‘ì§‘ë„/ê²°í•©ë„ 
â¸»

ğŸ§  ì‘ì§‘ë„ ë° ê²°í•©ë„ í‰ê°€

âœ… **ì‘ì§‘ë„(Cohesion) í‰ê°€**
<br>
<img width="810" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 2 47 55" src="https://github.com/user-attachments/assets/8dfd1e8d-cd57-4b9b-9ccc-69f4b2d70ac9" />

ğŸ“Œ ëª¨ë“  í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ì±…ì„ì— ì§‘ì¤‘í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ê°€ ë§¤ìš° ì‰¬ìš´ êµ¬ì¡°ì„.

â¸»

ğŸ”— **ê²°í•©ë„(Coupling) í‰ê°€**
<br>
<img width="814" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 2 49 23" src="https://github.com/user-attachments/assets/60425e3c-8258-48bd-b935-ed195d1268da" />

ğŸ“Œ í´ë˜ìŠ¤ ê°„ ì˜ì¡´ì„±ì´ ë‚®ì€ í¸ì´ë‚˜, ì¶”ìƒí™” ì¸í„°í˜ì´ìŠ¤ê°€ ë„ì…ë˜ë©´ ê²°í•©ë„ë¥¼ ë” ë‚®ì¶œ ìˆ˜ ìˆìŒ.

â¸»

ğŸ“Š **ì¢…í•© í‰ê°€ ìš”ì•½**
<br>
<img width="727" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 2 50 25" src="https://github.com/user-attachments/assets/cc0f86af-edad-4561-bdc8-24fdd9397ca7" />


â¸»

ğŸ’¡ **ê°œì„  ì•„ì´ë””ì–´**
- ProductRepositoryë¥¼ ì¸í„°í˜ì´ìŠ¤(ProductStoreInterface)ë¡œ ì¶”ìƒí™”í•˜ì—¬ WebAppì´ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë„ë¡ ê°œì„ 
- User í´ë˜ìŠ¤ê°€ WebAppì—ë§Œ ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ì„œë¹„ìŠ¤ ê³„ì¸µ ë˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ë¶„ë¦¬ ì‹œ í™•ì¥ì„± í–¥ìƒ ê°€ëŠ¥

â¸»
# ğŸ› ê°œì„ ëœ Python ì‡¼í•‘ëª° ê²€ìƒ‰ ì‹œìŠ¤í…œ

Pythonìœ¼ë¡œ êµ¬í˜„ëœ ë³¸ í”„ë¡œì íŠ¸ëŠ” êµ¬ì¡° ê°œì„ ì„ í†µí•´ **ì‘ì§‘ë„ëŠ” ìœ ì§€í•˜ë©´ì„œ ê²°í•©ë„ëŠ” ë‚®ì¶˜ ì˜ˆì œ**

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```plaintext
shopping_flow/
â”œâ”€â”€ product.py             # Product í´ë˜ìŠ¤ ì •ì˜
â”œâ”€â”€ store_interface.py     # ProductStoreInterface ì •ì˜ (ì¶”ìƒí™”)
â”œâ”€â”€ repository.py          # ProductRepository êµ¬í˜„ì²´
â”œâ”€â”€ webapp.py              # WebApp ë¡œì§ ì²˜ë¦¬ (ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´)
â”œâ”€â”€ service.py             # AppService ê³„ì¸µ (ì‚¬ìš©ì íë¦„ ì‹¤í–‰)
â””â”€â”€ main.py                # ì‹¤í–‰ ì§„ì…ì 
```

---

## âš™ï¸ ì„¤ê³„ ë³€ê²½ ìš”ì•½

| ë³€ê²½ í•­ëª©      | ê°œì„  ì „                    | ê°œì„  í›„                          | íš¨ê³¼            |
| ---------- | ----------------------- | ----------------------------- | ------------- |
| WebApp ì˜ì¡´ì„± | ProductRepository ì§ì ‘ ì˜ì¡´ | ProductStoreInterface ì¶”ìƒí™”ì— ì˜ì¡´ | ê²°í•©ë„ ê°ì†Œ        |
| ì‚¬ìš©ì íë¦„     | User â†’ WebApp           | AppService ê³„ì¸µ ì¶”ê°€              | ê³„ì¸µ ë¶„ë¦¬, í™•ì¥ì„± í–¥ìƒ |

---

## ğŸ“Œ ì‘ì§‘ë„ í‰ê°€ (Cohesion)
<br>
<img width="1022" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 2 51 12" src="https://github.com/user-attachments/assets/f8e8fc3c-7b8d-4c3d-924c-ef75bab8a1af" />

---

## ğŸ”— ê²°í•©ë„ í‰ê°€ (Coupling)
<br>
<img width="1088" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 2 52 26" src="https://github.com/user-attachments/assets/50d57065-0b0b-48fc-8419-223e09e78638" />


ğŸ“Œ **ì´í‰:** í´ë˜ìŠ¤ ê°„ ì˜ì¡´ì„±ì´ ë‚®ê³ , ì¶”ìƒí™” ì¸í„°í˜ì´ìŠ¤ ë„ì…ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ê³¼ ì¬ì‚¬ìš©ì„±, ìœ ì§€ë³´ìˆ˜ì„±ì´ ìš°ìˆ˜í•¨

---

## ğŸ“Š ì¢…í•© í‰ê°€ ìš”ì•½
<br>
<img width="781" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 2 53 30" src="https://github.com/user-attachments/assets/37e5dab2-f80e-47ba-8e28-4ff623e8ff79" />


---

## âœ… ì‹¤í–‰ ì˜ˆì‹œ

```bash
$ python main.py
ğŸ“² ì‡¼í•‘ëª° ì ‘ì†
ğŸ›’ ìµœì‹  ìƒí’ˆ ë¦¬ìŠ¤íŠ¸:
- ë¡œì§€í… ë¬´ì„  ë§ˆìš°ìŠ¤ (ë¡œì§€í…) - 25000ì›
...
ğŸ” 'ë§ˆìš°ìŠ¤' ê²€ìƒ‰ + ë¡œì§€í… ë¸Œëœë“œ + ê°€ê²© â‰¤ 30000ì›
ğŸ¯ ê²€ìƒ‰ê²°ê³¼: ë¡œì§€í… ë¬´ì„  ë§ˆìš°ìŠ¤ (ë¡œì§€í…) - 25000ì›
ğŸ“„ ìƒì„¸ í˜ì´ì§€:
ğŸ“ ë¡œì§€í… ë¬´ì„  ë§ˆìš°ìŠ¤ (ë¡œì§€í…) - 25000ì›
```


---

```
from typing import List, Optional, Protocol

# ìƒí’ˆ í´ë˜ìŠ¤
class Product:
    def __init__(self, product_id: int, name: str, brand: str, price: int):
        self.product_id = product_id
        self.name = name
        self.brand = brand
        self.price = price

    def __repr__(self):
        return f"{self.name} ({self.brand}) - {self.price}ì›"

# ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
class ProductStoreInterface(Protocol):
    def get_latest_products(self, count: int) -> List[Product]: ...
    def search(self, keyword: str) -> List[Product]: ...
    def filter(self, products: List[Product], brand: Optional[str], max_price: Optional[int]) -> List[Product]: ...
    def get_detail(self, product_id: int) -> Optional[Product]: ...

# êµ¬í˜„ì²´
class ProductRepository(ProductStoreInterface):
    def __init__(self):
        self.products = [
            Product(1, "ë¡œì§€í… ë¬´ì„  ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 25000),
            Product(2, "HP ìœ ì„  ë§ˆìš°ìŠ¤", "HP", 15000),
            Product(3, "ë¡œì§€í… ê²Œì´ë° ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 45000),
            Product(4, "ì‚¼ì„± ë¸”ë£¨íˆ¬ìŠ¤ ë§ˆìš°ìŠ¤", "ì‚¼ì„±", 29000),
            Product(5, "LG ìœ ì„  ë§ˆìš°ìŠ¤", "LG", 18000),
            Product(6, "ë¡œì§€í… ë¬´ì„  í‚¤ë³´ë“œ", "ë¡œì§€í…", 32000),
            Product(7, "ì• í”Œ ë§¤ì§ ë§ˆìš°ìŠ¤", "ì• í”Œ", 79000),
            Product(8, "ë¸ ìœ ì„  ë§ˆìš°ìŠ¤", "ë¸", 14000),
            Product(9, "MS ë¸”ë£¨íˆ¬ìŠ¤ ë§ˆìš°ìŠ¤", "MS", 31000),
            Product(10, "ë¡œì§€í… ì‚¬ì¼ëŸ°íŠ¸ ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 27000),
        ]

    def get_latest_products(self, count: int = 10) -> List[Product]:
        return self.products[:count]

    def search(self, keyword: str) -> List[Product]:
        return [p for p in self.products if keyword in p.name]

    def filter(self, products: List[Product], brand: Optional[str], max_price: Optional[int]) -> List[Product]:
        result = products
        if brand:
            result = [p for p in result if p.brand == brand]
        if max_price:
            result = [p for p in result if p.price <= max_price]
        return result

    def get_detail(self, product_id: int) -> Optional[Product]:
        for p in self.products:
            if p.product_id == product_id:
                return p
        return None

# WebApp í´ë˜ìŠ¤
class WebApp:
    def __init__(self, store: ProductStoreInterface):
        self.store = store

    def load_home(self):
        return self.store.get_latest_products(10)

    def search_products(self, keyword: str, brand: Optional[str], max_price: Optional[int]):
        results = self.store.search(keyword)
        filtered = self.store.filter(results, brand, max_price)
        return sorted(filtered, key=lambda x: x.price)

    def show_detail(self, product_id: int):
        return self.store.get_detail(product_id)

# ì‚¬ìš©ì íë¦„ ë‹´ë‹¹ ì„œë¹„ìŠ¤ ê³„ì¸µ
class AppService:
    def __init__(self, app: WebApp):
        self.app = app

    def simulate_user_flow(self):
        print("ğŸ“² ì‡¼í•‘ëª° ì ‘ì†")
        for p in self.app.load_home():
            print("ğŸ›’", p)

        print("\nğŸ” 'ë§ˆìš°ìŠ¤' ê²€ìƒ‰ + ë¡œì§€í… ë¸Œëœë“œ + ê°€ê²© â‰¤ 30000ì›")
        filtered = self.app.search_products("ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 30000)
        for p in filtered:
            print("ğŸ¯", p)

        if filtered:
            print("\nğŸ“„ ìƒì„¸ í˜ì´ì§€:")
            print("ğŸ“", self.app.show_detail(filtered[0].product_id))

# ì‹¤í–‰ë¶€
if __name__ == "__main__":
    store = ProductRepository()
    web_app = WebApp(store)
    service = AppService(web_app)
    service.simulate_user_flow()

```
 
ğŸ’¢  ## ê²°í•©ë„/ì‘ì§‘ë„ ë¹„êµ í…ŒìŠ¤íŠ¸
---
```
# ë‘ ì½”ë“œì˜ ì‘ì§‘ë„/ê²°í•©ë„ ìš”ì†Œë¥¼ ìˆ˜ì¹˜í™”í•˜ê³  ë¹„êµí•˜ëŠ” ë¶„ì„ê¸°
# ê¸°ì¤€: í´ë˜ìŠ¤ ìˆ˜, ì¸í„°í˜ì´ìŠ¤ ì¡´ì¬ ì—¬ë¶€, ì˜ì¡´ ë°©í–¥, ì±…ì„ ìˆ˜(ê°„ì´ ì¸¡ì •)

import ast
import pandas as pd

def analyze_code(code: str, name: str):
    tree = ast.parse(code)
    class_metrics = {
        "source": name,
        "class_count": 0,
        "interface_used": False,
        "explicit_dependency": 0,
        "method_total": 0,
    }

    for node in ast.walk(tree):
        if isinstance(node, ast.ClassDef):
            class_metrics["class_count"] += 1
            for b in node.body:
                if isinstance(b, ast.FunctionDef):
                    class_metrics["method_total"] += 1
                if isinstance(b, ast.ClassDef) and "Protocol" in [b.name for b in ast.walk(b) if isinstance(b, ast.Name)]:
                    class_metrics["interface_used"] = True
        if isinstance(node, ast.Call) and isinstance(node.func, ast.Name):
            if node.func.id in ["ProductRepository", "WebApp"]:
                class_metrics["explicit_dependency"] += 1

    # ê°€ì¤‘ì¹˜ ê¸°ë°˜ ìŠ¤ì½”ì–´ ê³„ì‚°
    cohesion_score = max(0, 10 - abs(5 - class_metrics["method_total"]) // 2)
    coupling_score = max(0, 10 - class_metrics["explicit_dependency"] * 2 + (2 if class_metrics["interface_used"] else 0))
    
    class_metrics["cohesion_score"] = cohesion_score
    class_metrics["coupling_score"] = coupling_score

    return class_metrics

# ì½”ë“œ 1: ê°œì„  ë²„ì „ (ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©, AppService ë¶„ë¦¬)
with open("/mnt/data/shopping_flow_modular/main.py") as f:
    main_code = f.read()
with open("/mnt/data/shopping_flow_modular/service.py") as f:
    service_code = f.read()
with open("/mnt/data/shopping_flow_modular/webapp.py") as f:
    webapp_code = f.read()
with open("/mnt/data/shopping_flow_modular/repository.py") as f:
    repository_code = f.read()
with open("/mnt/data/shopping_flow_modular/interface.py") as f:
    interface_code = f.read()
with open("/mnt/data/shopping_flow_modular/product.py") as f:
    product_code = f.read()

modular_code = "\n".join([main_code, service_code, webapp_code, repository_code, interface_code, product_code])
modular_result = analyze_code(modular_code, "ê°œì„  êµ¬ì¡°")

# ì½”ë“œ 2: ê¸°ì¡´ êµ¬ì¡°
original_path = "/mnt/data/shopping_flow_original.py"
original_code = """
from typing import List, Optional

# ìƒí’ˆ í´ë˜ìŠ¤
class Product:
    def __init__(self, product_id: int, name: str, brand: str, price: int):
        self.product_id = product_id
        self.name = name
        self.brand = brand
        self.price = price

    def __repr__(self):
        return f"{self.name} ({self.brand}) - {self.price}ì›"

class ProductRepository:
    def __init__(self):
        self.products = [
            Product(1, "ë¡œì§€í… ë¬´ì„  ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 25000),
            Product(2, "HP ìœ ì„  ë§ˆìš°ìŠ¤", "HP", 15000),
            Product(3, "ë¡œì§€í… ê²Œì´ë° ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 45000),
            Product(4, "ì‚¼ì„± ë¸”ë£¨íˆ¬ìŠ¤ ë§ˆìš°ìŠ¤", "ì‚¼ì„±", 29000),
            Product(5, "LG ìœ ì„  ë§ˆìš°ìŠ¤", "LG", 18000),
            Product(6, "ë¡œì§€í… ë¬´ì„  í‚¤ë³´ë“œ", "ë¡œì§€í…", 32000),
            Product(7, "ì• í”Œ ë§¤ì§ ë§ˆìš°ìŠ¤", "ì• í”Œ", 79000),
            Product(8, "ë¸ ìœ ì„  ë§ˆìš°ìŠ¤", "ë¸", 14000),
            Product(9, "MS ë¸”ë£¨íˆ¬ìŠ¤ ë§ˆìš°ìŠ¤", "MS", 31000),
            Product(10, "ë¡œì§€í… ì‚¬ì¼ëŸ°íŠ¸ ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 27000),
        ]

    def get_latest_products(self, count: int = 10) -> List[Product]:
        return self.products[:count]

    def search(self, keyword: str) -> List[Product]:
        return [p for p in self.products if keyword in p.name]

    def filter(self, products: List[Product], brand: Optional[str], max_price: Optional[int]) -> List[Product]:
        result = products
        if brand:
            result = [p for p in result if p.brand == brand]
        if max_price:
            result = [p for p in result if p.price <= max_price]
        return result

    def get_detail(self, product_id: int) -> Optional[Product]:
        for p in self.products:
            if p.product_id == product_id:
                return p
        return None

class WebApp:
    def __init__(self, repository: ProductRepository):
        self.repo = repository

    def load_home(self):
        return self.repo.get_latest_products()

    def search_products(self, keyword: str, brand: Optional[str], max_price: Optional[int]):
        result = self.repo.search(keyword)
        return sorted(self.repo.filter(result, brand, max_price), key=lambda x: x.price)

    def show_detail(self, product_id: int):
        return self.repo.get_detail(product_id)

class User:
    def __init__(self, app: WebApp):
        self.app = app

    def run(self):
        print("ğŸ“² ì‡¼í•‘ëª° ì ‘ì†")
        latest = self.app.load_home()
        print("ğŸ›’ ìµœì‹  ìƒí’ˆ ë¦¬ìŠ¤íŠ¸:")
        for p in latest:
            print("-", p)

        print("\\nğŸ” 'ë§ˆìš°ìŠ¤' ê²€ìƒ‰ + ë¡œì§€í… ë¸Œëœë“œ + ê°€ê²© â‰¤ 30000ì›")
        filtered = self.app.search_products("ë§ˆìš°ìŠ¤", "ë¡œì§€í…", 30000)
        for p in filtered:
            print("ğŸ¯ ê²€ìƒ‰ê²°ê³¼:", p)

        if filtered:
            detail = self.app.show_detail(filtered[0].product_id)
            print("\\nğŸ“„ ìƒì„¸ í˜ì´ì§€:")
            print("ğŸ“", detail)

repo = ProductRepository()
app = WebApp(repo)
user = User(app)
user.run()
"""
original_result = analyze_code(original_code, "ê¸°ì¡´ êµ¬ì¡°")

# ê²°ê³¼ í†µí•© ë° ì‹œê°í™”
comparison_df = pd.DataFrame([modular_result, original_result])
import ace_tools as tools; tools.display_dataframe_to_user("êµ¬ì¡°ë³„ ì‘ì§‘ë„/ê²°í•©ë„ ë¹„êµ", comparison_df)

```
â˜‘ï¸ **ê¸°ì¡´/ê°œì„ ëœ ì½”ë“œì˜ ì‘ì§‘ë„/ê²°í•©ë„ ë¹„êµ**
<br>
<img width="799" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 8 19 00" src="https://github.com/user-attachments/assets/879f9c3e-c25d-4f8d-b3fe-2907aa6da047" />
<br>

<img width="686" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-24 á„‹á…©á„’á…® 3 12 48" src="https://github.com/user-attachments/assets/3518d851-cdf8-4a4a-86a9-bbacbdfc39ec" />

â˜‘ï¸ **ê·¸ë˜í”„**
![Comparison of Cohesion and Coupling between Structures](https://github.com/user-attachments/assets/f92c7ee2-39c5-4db4-8e07-936102e24764)



## 6. ê²°ë¡ 
## ğŸ” ê°œì„  í¬ì¸íŠ¸ ìš”ì•½

* âœ… ì˜ì¡´ì„± ì£¼ì… + ì¶”ìƒí™”(ì¸í„°í˜ì´ìŠ¤)ë¥¼ í™œìš©
* âœ… ì‚¬ìš©ì íë¦„ì„ ì„œë¹„ìŠ¤ ê³„ì¸µìœ¼ë¡œ ë¶„ë¦¬í•´ í…ŒìŠ¤íŠ¸, ìœ ì§€ë³´ìˆ˜ ìš©ì´
* âœ… ê°œì„  êµ¬ì¡°ëŠ” í´ë˜ìŠ¤ ìˆ˜ì™€ ë©”ì„œë“œ ìˆ˜ê°€ ì¦ê°€í–ˆì§€ë§Œ, êµ¬ì¡° ë¶„ë¦¬ê°€ ëª…í™•í•˜ë©° ìœ ì§€ë³´ìˆ˜ì„±ì´ ë†’ìŒ
* âœ… ì‘ì§‘ë„ëŠ” ê°œì„  êµ¬ì¡°ê°€ ì—­í•  ë¶„ë¦¬ë¥¼ í†µí•´ ë†’ì€ ìˆ˜ì¤€ì„ ìœ ì§€í•¨
* âœ… ê²°í•©ë„ëŠ” ì¸í„°í˜ì´ìŠ¤ ë„ì… ë•ë¶„ì— ê°œì„  êµ¬ì¡°ê°€ ë” ë‚®ìŒ â†’ ìœ ì—°í•œ êµ¬ì¡°
* âœ… í´ë˜ìŠ¤ ê°„ ì±…ì„ì„ ëª…í™•íˆ ë¶„ë¦¬í•˜ê³ , ì¶”ìƒí™”ë¥¼ ë„ì…í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ê°•í™”í•œ êµ¬ì¡°
---
